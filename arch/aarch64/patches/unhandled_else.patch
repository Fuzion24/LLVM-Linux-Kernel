From 3602cf3384ed7f348576b1bedab4ee320ed673b9 Mon Sep 17 00:00:00 2001
From: Mark Charlebois <charlebm@gmail.com>
Date: Sat, 19 Apr 2014 22:59:49 -0700
Subject: [PATCH] unhandled else in arch_timer_reg_read_cp15

Clang complains about return value being undefined which could happen if enum
value was corrupted.

Author: Mark Charlebois <charlebm@gmail.com>
Signed-off-by: Mark Charlebois <charlebm@gmail.com>
---
 arch/arm64/include/asm/arch_timer.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/arm64/include/asm/arch_timer.h b/arch/arm64/include/asm/arch_timer.h
index d038116..622cbef 100644
--- a/arch/arm64/include/asm/arch_timer.h
+++ b/arch/arm64/include/asm/arch_timer.h
@@ -80,6 +80,8 @@ u32 arch_timer_reg_read_cp15(int access, enum arch_timer_reg reg)
 			asm volatile("mrs %0, cntv_tval_el0" : "=r" (val));
 			break;
 		}
+	} else {
+		BUG();
 	}
 
 	return (u32)val;
-- 
1.9.1

