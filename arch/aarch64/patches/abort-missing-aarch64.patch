From 50a914bb7058f21d5b9cd4c5cba231683498796f Mon Sep 17 00:00:00 2001
From: Mark Charlebois <charlebm@gmail.com>
Date: Wed, 12 Feb 2014 12:17:01 -0800
Subject: [PATCH] arm64: LLVMLinux: Add missing abort() for AARCH64

Add missing abort for arch aarch64.

Signed-off-by: Mark Charlebois <charlebm@gmail.com>
---
 arch/arm64/kernel/traps.c | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/arch/arm64/kernel/traps.c b/arch/arm64/kernel/traps.c
index 8151a66..4467652 100644
--- a/arch/arm64/kernel/traps.c
+++ b/arch/arm64/kernel/traps.c
@@ -340,6 +340,15 @@ void __pgd_error(const char *file, int line, unsigned long val)
 	printk("%s:%d: bad pgd %016lx.\n", file, line, val);
 }
 
+void abort(void)
+{
+	BUG();
+
+	/* if that doesn't kill us, halt */
+	panic("Oops failed to kill thread");
+}
+EXPORT_SYMBOL(abort);
+
 void __init trap_init(void)
 {
 	return;
-- 
1.8.3.2

