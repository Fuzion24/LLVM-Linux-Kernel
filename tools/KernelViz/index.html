<!doctype html>
<!--
##############################################################################
# Copyright (c) 2014 Mark Charlebois
#
# All rights reserved. 
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted (subject to the limitations in the disclaimer
# below) provided that the following conditions are met:
# 
# * Redistributions of source code must retain the above copyright notice,
#   this list of conditions and the following disclaimer.
#  
# * Redistributions in binary form must reproduce the above copyright notice,
#   this list of conditions and the following disclaimer in the documentation
#   and/or other materials provided with the distribution.
# 
# * Neither the name KernelViz nor the names of its contributors may be used
#   to endorse or promote products derived from this software without 
#   specific prior written permission.
# 
# NO EXPRESS OR IMPLIED LICENSES TO ANY PARTY'S PATENT RIGHTS ARE GRANTED BY
# THIS LICENSE. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
# CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT
# NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
# PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
# CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
# EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
# PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
# OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
# WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
# OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
# ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
##############################################################################
<!-->
<html lang="en">
<head>
<meta charset="utf-8">
</head>
<script src="external/d3/d3.v3.js"></script>
<script src="external/dagre/dagre-d3.js"></script>
<script src="external/completely/complete.ly.1.0.1.min.js"></script>
<script src="scripts/ForceGraph.js"></script>
<script src="scripts/DirectedGraph.js"></script>
<script src="scripts/DirView.js"></script>
<script src="scripts/DualView.js"></script>
<script src="scripts/Layout.js"></script>
<script>
function init() {
  layout = new Layout();
  layout.init();
  layout.setView("moduleview");
  layout.resize();
}
</script>
<style>
body {
  font-family: sans-serif;
  font-size: 14px;
}

.node rect {
  stroke: #333;
}

.selected rect {
  stroke-width: 4px;
  stroke: #00d;
}

.edgePath path {
  stroke: #333;
  fill: none;
}

.nodeInfo,
.linkKey,
.key {
  width: 230px;
  margin: 5px;
  padding: 5px;
  border: 1px solid #999;
  float: right;
}

.topbuttons,
.viewbuttons,
.labelbutton {
  width: 120px;
  margin: 5px;
  padding: 5px;
  border: 1px solid #999;
  float: left;
}

td {
  border:1px solid #999;
}

svg {
  border: 1px solid #999;
  overflow: hidden;
  background: -webkit-linear-gradient(white, rgba(100,100,255,10)); /* For Safari 5.1 to 6.0 */
  background: -o-linear-gradient(white, rgba(100,100,255,10)); /* For Opera 11.1 to 12.0 */
  background: -moz-linear-gradient(white, rgba(100,100,255,10)); /* For Firefox 3.6 to 15 */
  background: linear-gradient(white, rgba(100,100,255,10)); /* Standard syntax (must be last) */
}

.node-fg {
  stroke: #fff;
  fill: #fd9040;
  stroke-width: 1.5px;
}

.node-selected {
  stroke: #00d;
  stroke-width: 4px;
}

.link {
  stroke: #000;
  stroke-opacity: 1;
  stroke-width: 2px;
}

.label {
  pointer-events: none;
}

.selector{
    float: left;
    background: #fff;
    border: 1px solid #000;
    z-index: 1;
    width: 100%;
    margin-bottom: 5px;
}

.link-hidden {
   display: none;
}

.node-hidden {
   display: none;
}

.link-shadow {
  stroke: #222;
  stroke-opacity: .2;
}

.link-source,
.link-target {
  stroke-opacity: 1;
  stroke-width: 2px;
}

.link-source {
  stroke: #d62728;
}

.link-target {
  stroke: #2ca02c;
}

.nodeInfo {
  height: 400px;
}
</style>
<body onload="init()">
<div class="selector" id="selector"></div>
<div class="funcselector" id="selector">
  Enter a function name:&nbsp;<input type='text' id='funcname' style='width:200'>Enter a call depth:&nbsp;<input type='text' id='funcdepth' style='width:200'><button id='funcbutton'>Get Graph</button>
</div>
<div class="controls" style="float:right;width:250px">
  <div style="width:90px;float:right;">
    <img src="images/tux-with-dragon-wings-90.png"/>
  </div>
  <div class="topbuttons">
    <input type="radio" name="view" value="toplevel" onclick="layout.setView(this.value)">Dir View</input><br/>
    <input type="radio" name="view" value="module" onclick="layout.setView(this.value)" checked="true">ModuleView</input><br/>
    <input type="radio" name="view" value="func" onclick="layout.setView(this.value)">FunctionView</input><br/>
  </div>
  <div class="viewbuttons">
    <input type='radio' name='graphtype' value='directed' onclick='layout.setGraphType(this.value)' checked='true'/>Directed Graph
    <br/>
    <input type='radio' name='graphtype' value='forced' onclick='layout.setGraphType(this.value)'/>Force Graph
    <br/>
  </div>
  <div class="labelbutton">
    <input type='checkbox' checked='true' onclick='layout.showLabels(this.checked)'/>Show Labels
    <br/>
    <input type='checkbox' checked='true' onclick='layout.enableZoom(this.checked)'/>Zoom
    <div class="topviewcontrols">
      <input type='checkbox' checked='true' onclick='layout.showLinks(this.checked)'/>Show Links
    </div>
  </div>
  <div class="viewInfo">
  </div>
</div>
<div class="container" style="float:left;">
  <svg>
    <g/>
  </svg>
</div>

</body>
</html>
